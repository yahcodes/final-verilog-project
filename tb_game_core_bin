#! /opt/homebrew/Cellar/icarus-verilog/12.0/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/system.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_sys.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_textio.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2005_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/va_math.vpi";
S_0x10567fc30 .scope module, "tb_game_core" "tb_game_core" 2 22;
 .timescale -9 -12;
v0x97305bde0_0 .var "Price0", 9 0;
v0x97305be80_0 .var "Price1", 9 0;
v0x97305bf20_0 .var "Price2", 9 0;
v0x97308c000_0 .var "Price3", 9 0;
v0x97308c0a0_0 .var "Price4", 9 0;
v0x97308c140_0 .var "buy_code_p1", 2 0;
v0x97308c1e0_0 .var "buy_code_p2", 2 0;
v0x97308c280_0 .var "buy_valid_p1", 0 0;
v0x97308c320_0 .var "buy_valid_p2", 0 0;
v0x97308c3c0_0 .var "clk", 0 0;
v0x97308c460_0 .net "err_credit_p1", 0 0, v0x973058c80_0;  1 drivers
v0x97308c500_0 .net "err_credit_p2", 0 0, v0x973059b80_0;  1 drivers
v0x97308c5a0_0 .net "err_invalid_action_p1", 0 0, v0x973058d20_0;  1 drivers
v0x97308c640_0 .net "err_invalid_action_p2", 0 0, v0x973059c20_0;  1 drivers
v0x97308c6e0_0 .net "err_no_inventory", 0 0, v0x97305ae40_0;  1 drivers
v0x97308c780_0 .net "err_out_of_stock_p1", 0 0, v0x973058dc0_0;  1 drivers
v0x97308c820_0 .net "err_out_of_stock_p2", 0 0, v0x973059cc0_0;  1 drivers
v0x97308c8c0_0 .net "err_wrong_distance", 0 0, v0x97305b020_0;  1 drivers
v0x97308c960_0 .var/i "errors", 31 0;
v0x97308ca00_0 .net "p1_credit", 9 0, v0x97305b0c0_0;  1 drivers
v0x97308caa0_0 .net "p1_health", 1 0, v0x97305b2a0_0;  1 drivers
v0x97308cb40_0 .net "p1_pos", 1 0, v0x97305b3e0_0;  1 drivers
v0x97308cbe0_0 .net "p2_credit", 9 0, v0x97305b480_0;  1 drivers
v0x97308cc80_0 .net "p2_health", 1 0, v0x97305b660_0;  1 drivers
v0x97308cd20_0 .net "p2_pos", 1 0, v0x97305b7a0_0;  1 drivers
v0x97308cdc0_0 .net "phase", 0 0, v0x97305b840_0;  1 drivers
v0x97308ce60_0 .var "play_action", 2 0;
v0x97308cf00_0 .var "play_valid", 0 0;
v0x97308cfa0_0 .net "purchase_success_p1", 0 0, v0x9730590e0_0;  1 drivers
v0x97308d040_0 .net "purchase_success_p2", 0 0, v0x973059fe0_0;  1 drivers
v0x97308d0e0_0 .var "rst", 0 0;
v0x97308d180_0 .var "start_round", 0 0;
v0x97308d220_0 .var "turn", 0 0;
v0x97308d2c0_0 .net "winner", 1 0, v0x97305bd40_0;  1 drivers
S_0x10567fdb0 .scope task, "buy_p1" "buy_p1" 2 97, 2 97 0, S_0x10567fc30;
 .timescale -9 -12;
v0x973058140_0 .var "action", 2 0;
E_0x9730326c0 .event posedge, v0x9730588c0_0;
E_0x973032700 .event negedge, v0x9730588c0_0;
TD_tb_game_core.buy_p1 ;
    %wait E_0x973032700;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x97308c280_0, 0, 1;
    %load/vec4 v0x973058140_0;
    %store/vec4 v0x97308c140_0, 0, 3;
    %wait E_0x9730326c0;
    %wait E_0x973032700;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x97308c280_0, 0, 1;
    %wait E_0x9730326c0;
    %delay 1000, 0;
    %end;
S_0x105678740 .scope task, "buy_p2" "buy_p2" 2 107, 2 107 0, S_0x10567fc30;
 .timescale -9 -12;
v0x9730583c0_0 .var "action", 2 0;
TD_tb_game_core.buy_p2 ;
    %wait E_0x973032700;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x97308c320_0, 0, 1;
    %load/vec4 v0x9730583c0_0;
    %store/vec4 v0x97308c1e0_0, 0, 3;
    %wait E_0x9730326c0;
    %wait E_0x973032700;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x97308c320_0, 0, 1;
    %wait E_0x9730326c0;
    %delay 1000, 0;
    %end;
S_0x1056788c0 .scope task, "do_play" "do_play" 2 118, 2 118 0, S_0x10567fc30;
 .timescale -9 -12;
v0x973058280_0 .var "action", 2 0;
v0x973058320_0 .var "t", 0 0;
TD_tb_game_core.do_play ;
    %wait E_0x973032700;
    %load/vec4 v0x973058320_0;
    %store/vec4 v0x97308d220_0, 0, 1;
    %load/vec4 v0x973058280_0;
    %store/vec4 v0x97308ce60_0, 0, 3;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x97308cf00_0, 0, 1;
    %wait E_0x9730326c0;
    %delay 1000, 0;
    %wait E_0x973032700;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x97308cf00_0, 0, 1;
    %end;
S_0x10567d610 .scope task, "do_reset" "do_reset" 2 129, 2 129 0, S_0x10567fc30;
 .timescale -9 -12;
TD_tb_game_core.do_reset ;
    %wait E_0x973032700;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x97308d0e0_0, 0, 1;
    %wait E_0x9730326c0;
    %wait E_0x9730326c0;
    %wait E_0x973032700;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x97308d0e0_0, 0, 1;
    %delay 1000, 0;
    %end;
S_0x10567d790 .scope task, "do_start" "do_start" 2 138, 2 138 0, S_0x10567fc30;
 .timescale -9 -12;
TD_tb_game_core.do_start ;
    %wait E_0x973032700;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x97308d180_0, 0, 1;
    %wait E_0x9730326c0;
    %delay 1000, 0;
    %wait E_0x973032700;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x97308d180_0, 0, 1;
    %delay 1000, 0;
    %end;
S_0x1056893e0 .scope module, "dut" "game_top" 2 55, 3 1 0, S_0x10567fc30;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst";
    .port_info 2 /INPUT 1 "turn";
    .port_info 3 /INPUT 1 "play_valid";
    .port_info 4 /INPUT 3 "play_action";
    .port_info 5 /INPUT 1 "buy_valid_p1";
    .port_info 6 /INPUT 3 "buy_code_p1";
    .port_info 7 /INPUT 1 "buy_valid_p2";
    .port_info 8 /INPUT 3 "buy_code_p2";
    .port_info 9 /INPUT 1 "start_round";
    .port_info 10 /INPUT 10 "Price0";
    .port_info 11 /INPUT 10 "Price1";
    .port_info 12 /INPUT 10 "Price2";
    .port_info 13 /INPUT 10 "Price3";
    .port_info 14 /INPUT 10 "Price4";
    .port_info 15 /OUTPUT 1 "phase";
    .port_info 16 /OUTPUT 2 "p1_health";
    .port_info 17 /OUTPUT 2 "p2_health";
    .port_info 18 /OUTPUT 10 "p1_credit";
    .port_info 19 /OUTPUT 10 "p2_credit";
    .port_info 20 /OUTPUT 2 "p1_pos";
    .port_info 21 /OUTPUT 2 "p2_pos";
    .port_info 22 /OUTPUT 2 "winner";
    .port_info 23 /OUTPUT 1 "purchase_success_p1";
    .port_info 24 /OUTPUT 1 "err_invalid_action_p1";
    .port_info 25 /OUTPUT 1 "err_credit_p1";
    .port_info 26 /OUTPUT 1 "err_out_of_stock_p1";
    .port_info 27 /OUTPUT 1 "purchase_success_p2";
    .port_info 28 /OUTPUT 1 "err_invalid_action_p2";
    .port_info 29 /OUTPUT 1 "err_credit_p2";
    .port_info 30 /OUTPUT 1 "err_out_of_stock_p2";
    .port_info 31 /OUTPUT 1 "err_no_inventory";
    .port_info 32 /OUTPUT 1 "err_wrong_distance";
P_0x105689560 .param/l "ACT_KICK" 1 3 43, C4<000>;
P_0x1056895a0 .param/l "ACT_LEFT" 1 3 45, C4<010>;
P_0x1056895e0 .param/l "ACT_PUNCH" 1 3 44, C4<001>;
P_0x105689620 .param/l "ACT_RIGHT" 1 3 46, C4<011>;
P_0x105689660 .param/l "ACT_WAIT" 1 3 47, C4<100>;
P_0x1056896a0 .param/l "PHASE_PLAY" 1 3 41, C4<0>;
P_0x1056896e0 .param/l "PHASE_SHOP" 1 3 42, C4<1>;
v0x97305a260_0 .net "Price0", 9 0, v0x97305bde0_0;  1 drivers
v0x97305a300_0 .net "Price1", 9 0, v0x97305be80_0;  1 drivers
v0x97305a3a0_0 .net "Price2", 9 0, v0x97305bf20_0;  1 drivers
v0x97305a440_0 .net "Price3", 9 0, v0x97308c000_0;  1 drivers
v0x97305a4e0_0 .net "Price4", 9 0, v0x97308c0a0_0;  1 drivers
L_0x972878010 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v0x97305a580_0 .net/2u *"_ivl_0", 0 0, L_0x972878010;  1 drivers
v0x97305a620_0 .net *"_ivl_2", 2 0, L_0x105686780;  1 drivers
L_0x972878058 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v0x97305a6c0_0 .net/2u *"_ivl_4", 0 0, L_0x972878058;  1 drivers
v0x97305a760_0 .net *"_ivl_6", 2 0, L_0x105687c40;  1 drivers
v0x97305a800_0 .net "buy_code_p1", 2 0, v0x97308c140_0;  1 drivers
v0x97305a8a0_0 .net "buy_code_p2", 2 0, v0x97308c1e0_0;  1 drivers
v0x97305a940_0 .net "buy_valid_p1", 0 0, v0x97308c280_0;  1 drivers
v0x97305a9e0_0 .net "buy_valid_p2", 0 0, v0x97308c320_0;  1 drivers
v0x97305aa80_0 .net "clk", 0 0, v0x97308c3c0_0;  1 drivers
v0x97305ab20_0 .net "distance", 2 0, L_0x105687360;  1 drivers
v0x97305abc0_0 .net "err_credit_p1", 0 0, v0x973058c80_0;  alias, 1 drivers
v0x97305ac60_0 .net "err_credit_p2", 0 0, v0x973059b80_0;  alias, 1 drivers
v0x97305ad00_0 .net "err_invalid_action_p1", 0 0, v0x973058d20_0;  alias, 1 drivers
v0x97305ada0_0 .net "err_invalid_action_p2", 0 0, v0x973059c20_0;  alias, 1 drivers
v0x97305ae40_0 .var "err_no_inventory", 0 0;
v0x97305aee0_0 .net "err_out_of_stock_p1", 0 0, v0x973058dc0_0;  alias, 1 drivers
v0x97305af80_0 .net "err_out_of_stock_p2", 0 0, v0x973059cc0_0;  alias, 1 drivers
v0x97305b020_0 .var "err_wrong_distance", 0 0;
v0x97305b0c0_0 .var "p1_credit", 9 0;
v0x97305b160_0 .net "p1_credit_next", 9 0, v0x973058a00_0;  1 drivers
v0x97305b200_0 .net "p1_grant_onehot", 4 0, v0x973058e60_0;  1 drivers
v0x97305b2a0_0 .var "p1_health", 1 0;
v0x97305b340 .array "p1_moves", 4 0, 3 0;
v0x97305b3e0_0 .var "p1_pos", 1 0;
v0x97305b480_0 .var "p2_credit", 9 0;
v0x97305b520_0 .net "p2_credit_next", 9 0, v0x973059900_0;  1 drivers
v0x97305b5c0_0 .net "p2_grant_onehot", 4 0, v0x973059d60_0;  1 drivers
v0x97305b660_0 .var "p2_health", 1 0;
v0x97305b700 .array "p2_moves", 4 0, 3 0;
v0x97305b7a0_0 .var "p2_pos", 1 0;
v0x97305b840_0 .var "phase", 0 0;
v0x97305b8e0_0 .net "play_action", 2 0, v0x97308ce60_0;  1 drivers
v0x97305b980_0 .net "play_valid", 0 0, v0x97308cf00_0;  1 drivers
v0x97305ba20_0 .net "purchase_success_p1", 0 0, v0x9730590e0_0;  alias, 1 drivers
v0x97305bac0_0 .net "purchase_success_p2", 0 0, v0x973059fe0_0;  alias, 1 drivers
v0x97305bb60_0 .net "rst", 0 0, v0x97308d0e0_0;  1 drivers
v0x97305bc00_0 .net "start_round", 0 0, v0x97308d180_0;  1 drivers
v0x97305bca0_0 .net "turn", 0 0, v0x97308d220_0;  1 drivers
v0x97305bd40_0 .var "winner", 1 0;
L_0x105686780 .concat [ 2 1 0 0], v0x97305b3e0_0, L_0x972878010;
L_0x105687c40 .concat [ 2 1 0 0], v0x97305b7a0_0, L_0x972878058;
L_0x105687360 .arith/sum 3, L_0x105686780, L_0x105687c40;
S_0x1056855d0 .scope module, "shop_p1" "shop" 3 64, 4 1 0, S_0x1056893e0;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst";
    .port_info 2 /INPUT 1 "buy_valid";
    .port_info 3 /INPUT 3 "action_number";
    .port_info 4 /INPUT 10 "credit_in";
    .port_info 5 /INPUT 7 "discount_mult";
    .port_info 6 /INPUT 10 "Price0";
    .port_info 7 /INPUT 10 "Price1";
    .port_info 8 /INPUT 10 "Price2";
    .port_info 9 /INPUT 10 "Price3";
    .port_info 10 /INPUT 10 "Price4";
    .port_info 11 /OUTPUT 1 "purchase_success";
    .port_info 12 /OUTPUT 1 "err_invalid_action";
    .port_info 13 /OUTPUT 1 "err_credit";
    .port_info 14 /OUTPUT 1 "err_out_of_stock";
    .port_info 15 /OUTPUT 10 "credit_out";
    .port_info 16 /OUTPUT 5 "grant_onehot";
P_0x105685750 .param/l "ACT_KICK" 1 4 21, C4<000>;
P_0x105685790 .param/l "ACT_LEFT" 1 4 23, C4<010>;
P_0x1056857d0 .param/l "ACT_PUNCH" 1 4 22, C4<001>;
P_0x105685810 .param/l "ACT_RIGHT" 1 4 24, C4<011>;
P_0x105685850 .param/l "ACT_WAIT" 1 4 25, C4<100>;
v0x973058460_0 .net "Price0", 9 0, v0x97305bde0_0;  alias, 1 drivers
v0x973058500_0 .net "Price1", 9 0, v0x97305be80_0;  alias, 1 drivers
v0x9730585a0_0 .net "Price2", 9 0, v0x97305bf20_0;  alias, 1 drivers
v0x973058640_0 .net "Price3", 9 0, v0x97308c000_0;  alias, 1 drivers
v0x9730586e0_0 .net "Price4", 9 0, v0x97308c0a0_0;  alias, 1 drivers
v0x973058780_0 .net "action_number", 2 0, v0x97308c140_0;  alias, 1 drivers
v0x973058820_0 .net "buy_valid", 0 0, v0x97308c280_0;  alias, 1 drivers
v0x9730588c0_0 .net "clk", 0 0, v0x97308c3c0_0;  alias, 1 drivers
v0x973058960_0 .net "credit_in", 9 0, v0x97305b0c0_0;  alias, 1 drivers
v0x973058a00_0 .var "credit_out", 9 0;
L_0x9728780a0 .functor BUFT 1, C4<1100100>, C4<0>, C4<0>, C4<0>;
v0x973058aa0_0 .net "discount_mult", 6 0, L_0x9728780a0;  1 drivers
v0x973058b40_0 .var "discounted_price", 9 0;
v0x973058be0_0 .var "enough_credit", 0 0;
v0x973058c80_0 .var "err_credit", 0 0;
v0x973058d20_0 .var "err_invalid_action", 0 0;
v0x973058dc0_0 .var "err_out_of_stock", 0 0;
v0x973058e60_0 .var "grant_onehot", 4 0;
v0x973058f00_0 .var "in_stock", 0 0;
v0x973058fa0_0 .var "price_selected", 9 0;
v0x973059040_0 .var "price_tmp", 16 0;
v0x9730590e0_0 .var "purchase_success", 0 0;
v0x973059180_0 .net "rst", 0 0, v0x97308d0e0_0;  alias, 1 drivers
v0x973059220 .array "shop_stock", 4 0, 3 0;
v0x9730592c0_0 .var "valid_action", 0 0;
E_0x973032740 .event posedge, v0x973059180_0, v0x9730588c0_0;
E_0x973032780/0 .event anyedge, v0x973058780_0, v0x973058460_0, v0x973058500_0, v0x9730585a0_0;
E_0x973032780/1 .event anyedge, v0x973058640_0, v0x9730586e0_0, v0x973058fa0_0, v0x973058aa0_0;
v0x973059220_0 .array/port v0x973059220, 0;
v0x973059220_1 .array/port v0x973059220, 1;
v0x973059220_2 .array/port v0x973059220, 2;
E_0x973032780/2 .event anyedge, v0x973059040_0, v0x973059220_0, v0x973059220_1, v0x973059220_2;
v0x973059220_3 .array/port v0x973059220, 3;
v0x973059220_4 .array/port v0x973059220, 4;
E_0x973032780/3 .event anyedge, v0x973059220_3, v0x973059220_4, v0x973058960_0, v0x973058b40_0;
E_0x973032780/4 .event anyedge, v0x973058820_0, v0x9730592c0_0, v0x973058be0_0, v0x973058f00_0;
E_0x973032780 .event/or E_0x973032780/0, E_0x973032780/1, E_0x973032780/2, E_0x973032780/3, E_0x973032780/4;
S_0x105685a50 .scope module, "shop_p2" "shop" 3 85, 4 1 0, S_0x1056893e0;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst";
    .port_info 2 /INPUT 1 "buy_valid";
    .port_info 3 /INPUT 3 "action_number";
    .port_info 4 /INPUT 10 "credit_in";
    .port_info 5 /INPUT 7 "discount_mult";
    .port_info 6 /INPUT 10 "Price0";
    .port_info 7 /INPUT 10 "Price1";
    .port_info 8 /INPUT 10 "Price2";
    .port_info 9 /INPUT 10 "Price3";
    .port_info 10 /INPUT 10 "Price4";
    .port_info 11 /OUTPUT 1 "purchase_success";
    .port_info 12 /OUTPUT 1 "err_invalid_action";
    .port_info 13 /OUTPUT 1 "err_credit";
    .port_info 14 /OUTPUT 1 "err_out_of_stock";
    .port_info 15 /OUTPUT 10 "credit_out";
    .port_info 16 /OUTPUT 5 "grant_onehot";
P_0x105685bd0 .param/l "ACT_KICK" 1 4 21, C4<000>;
P_0x105685c10 .param/l "ACT_LEFT" 1 4 23, C4<010>;
P_0x105685c50 .param/l "ACT_PUNCH" 1 4 22, C4<001>;
P_0x105685c90 .param/l "ACT_RIGHT" 1 4 24, C4<011>;
P_0x105685cd0 .param/l "ACT_WAIT" 1 4 25, C4<100>;
v0x973059360_0 .net "Price0", 9 0, v0x97305bde0_0;  alias, 1 drivers
v0x973059400_0 .net "Price1", 9 0, v0x97305be80_0;  alias, 1 drivers
v0x9730594a0_0 .net "Price2", 9 0, v0x97305bf20_0;  alias, 1 drivers
v0x973059540_0 .net "Price3", 9 0, v0x97308c000_0;  alias, 1 drivers
v0x9730595e0_0 .net "Price4", 9 0, v0x97308c0a0_0;  alias, 1 drivers
v0x973059680_0 .net "action_number", 2 0, v0x97308c1e0_0;  alias, 1 drivers
v0x973059720_0 .net "buy_valid", 0 0, v0x97308c320_0;  alias, 1 drivers
v0x9730597c0_0 .net "clk", 0 0, v0x97308c3c0_0;  alias, 1 drivers
v0x973059860_0 .net "credit_in", 9 0, v0x97305b480_0;  alias, 1 drivers
v0x973059900_0 .var "credit_out", 9 0;
L_0x9728780e8 .functor BUFT 1, C4<1100100>, C4<0>, C4<0>, C4<0>;
v0x9730599a0_0 .net "discount_mult", 6 0, L_0x9728780e8;  1 drivers
v0x973059a40_0 .var "discounted_price", 9 0;
v0x973059ae0_0 .var "enough_credit", 0 0;
v0x973059b80_0 .var "err_credit", 0 0;
v0x973059c20_0 .var "err_invalid_action", 0 0;
v0x973059cc0_0 .var "err_out_of_stock", 0 0;
v0x973059d60_0 .var "grant_onehot", 4 0;
v0x973059e00_0 .var "in_stock", 0 0;
v0x973059ea0_0 .var "price_selected", 9 0;
v0x973059f40_0 .var "price_tmp", 16 0;
v0x973059fe0_0 .var "purchase_success", 0 0;
v0x97305a080_0 .net "rst", 0 0, v0x97308d0e0_0;  alias, 1 drivers
v0x97305a120 .array "shop_stock", 4 0, 3 0;
v0x97305a1c0_0 .var "valid_action", 0 0;
E_0x9730327c0/0 .event anyedge, v0x973059680_0, v0x973058460_0, v0x973058500_0, v0x9730585a0_0;
E_0x9730327c0/1 .event anyedge, v0x973058640_0, v0x9730586e0_0, v0x973059ea0_0, v0x9730599a0_0;
v0x97305a120_0 .array/port v0x97305a120, 0;
v0x97305a120_1 .array/port v0x97305a120, 1;
v0x97305a120_2 .array/port v0x97305a120, 2;
E_0x9730327c0/2 .event anyedge, v0x973059f40_0, v0x97305a120_0, v0x97305a120_1, v0x97305a120_2;
v0x97305a120_3 .array/port v0x97305a120, 3;
v0x97305a120_4 .array/port v0x97305a120, 4;
E_0x9730327c0/3 .event anyedge, v0x97305a120_3, v0x97305a120_4, v0x973059860_0, v0x973059a40_0;
E_0x9730327c0/4 .event anyedge, v0x973059720_0, v0x97305a1c0_0, v0x973059ae0_0, v0x973059e00_0;
E_0x9730327c0 .event/or E_0x9730327c0/0, E_0x9730327c0/1, E_0x9730327c0/2, E_0x9730327c0/3, E_0x9730327c0/4;
    .scope S_0x1056855d0;
T_5 ;
    %wait E_0x973032780;
    %load/vec4 v0x973058780_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_5.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_5.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_5.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_5.3, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_5.4, 6;
    %pushi/vec4 0, 0, 10;
    %store/vec4 v0x973058fa0_0, 0, 10;
    %jmp T_5.6;
T_5.0 ;
    %load/vec4 v0x973058460_0;
    %store/vec4 v0x973058fa0_0, 0, 10;
    %jmp T_5.6;
T_5.1 ;
    %load/vec4 v0x973058500_0;
    %store/vec4 v0x973058fa0_0, 0, 10;
    %jmp T_5.6;
T_5.2 ;
    %load/vec4 v0x9730585a0_0;
    %store/vec4 v0x973058fa0_0, 0, 10;
    %jmp T_5.6;
T_5.3 ;
    %load/vec4 v0x973058640_0;
    %store/vec4 v0x973058fa0_0, 0, 10;
    %jmp T_5.6;
T_5.4 ;
    %load/vec4 v0x9730586e0_0;
    %store/vec4 v0x973058fa0_0, 0, 10;
    %jmp T_5.6;
T_5.6 ;
    %pop/vec4 1;
    %pushi/vec4 0, 0, 7;
    %load/vec4 v0x973058fa0_0;
    %concat/vec4; draw_concat_vec4
    %pushi/vec4 0, 0, 10;
    %load/vec4 v0x973058aa0_0;
    %concat/vec4; draw_concat_vec4
    %mul;
    %store/vec4 v0x973059040_0, 0, 17;
    %load/vec4 v0x973059040_0;
    %pushi/vec4 100, 0, 17;
    %div;
    %pad/u 10;
    %store/vec4 v0x973058b40_0, 0, 10;
    %load/vec4 v0x973058780_0;
    %cmpi/u 4, 0, 3;
    %flag_get/vec4 4;
    %flag_get/vec4 5;
    %or;
    %store/vec4 v0x9730592c0_0, 0, 1;
    %load/vec4 v0x973058780_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_5.7, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_5.8, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_5.9, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_5.10, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_5.11, 6;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x973058f00_0, 0, 1;
    %jmp T_5.13;
T_5.7 ;
    %pushi/vec4 0, 0, 4;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x973059220, 4;
    %cmp/u;
    %flag_get/vec4 5;
    %store/vec4 v0x973058f00_0, 0, 1;
    %jmp T_5.13;
T_5.8 ;
    %pushi/vec4 0, 0, 4;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x973059220, 4;
    %cmp/u;
    %flag_get/vec4 5;
    %store/vec4 v0x973058f00_0, 0, 1;
    %jmp T_5.13;
T_5.9 ;
    %pushi/vec4 0, 0, 4;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x973059220, 4;
    %cmp/u;
    %flag_get/vec4 5;
    %store/vec4 v0x973058f00_0, 0, 1;
    %jmp T_5.13;
T_5.10 ;
    %pushi/vec4 0, 0, 4;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x973059220, 4;
    %cmp/u;
    %flag_get/vec4 5;
    %store/vec4 v0x973058f00_0, 0, 1;
    %jmp T_5.13;
T_5.11 ;
    %pushi/vec4 0, 0, 4;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x973059220, 4;
    %cmp/u;
    %flag_get/vec4 5;
    %store/vec4 v0x973058f00_0, 0, 1;
    %jmp T_5.13;
T_5.13 ;
    %pop/vec4 1;
    %load/vec4 v0x973058b40_0;
    %load/vec4 v0x973058960_0;
    %cmp/u;
    %flag_get/vec4 4;
    %flag_get/vec4 5;
    %or;
    %store/vec4 v0x973058be0_0, 0, 1;
    %load/vec4 v0x973058820_0;
    %load/vec4 v0x9730592c0_0;
    %and;
    %load/vec4 v0x973058be0_0;
    %and;
    %load/vec4 v0x973058f00_0;
    %and;
    %store/vec4 v0x9730590e0_0, 0, 1;
    %load/vec4 v0x973058820_0;
    %load/vec4 v0x9730592c0_0;
    %inv;
    %and;
    %store/vec4 v0x973058d20_0, 0, 1;
    %load/vec4 v0x973058820_0;
    %load/vec4 v0x9730592c0_0;
    %and;
    %load/vec4 v0x973058be0_0;
    %inv;
    %and;
    %store/vec4 v0x973058c80_0, 0, 1;
    %load/vec4 v0x973058820_0;
    %load/vec4 v0x9730592c0_0;
    %and;
    %load/vec4 v0x973058be0_0;
    %and;
    %load/vec4 v0x973058f00_0;
    %inv;
    %and;
    %store/vec4 v0x973058dc0_0, 0, 1;
    %jmp T_5;
    .thread T_5, $push;
    .scope S_0x1056855d0;
T_6 ;
    %wait E_0x973032740;
    %load/vec4 v0x973059180_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.0, 8;
    %pushi/vec4 5, 0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x973059220, 0, 4;
    %pushi/vec4 5, 0, 4;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x973059220, 0, 4;
    %pushi/vec4 5, 0, 4;
    %ix/load 3, 2, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x973059220, 0, 4;
    %pushi/vec4 5, 0, 4;
    %ix/load 3, 3, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x973059220, 0, 4;
    %pushi/vec4 5, 0, 4;
    %ix/load 3, 4, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x973059220, 0, 4;
    %pushi/vec4 0, 0, 5;
    %assign/vec4 v0x973058e60_0, 0;
    %load/vec4 v0x973058960_0;
    %assign/vec4 v0x973058a00_0, 0;
    %jmp T_6.1;
T_6.0 ;
    %load/vec4 v0x9730590e0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.2, 8;
    %load/vec4 v0x973058960_0;
    %load/vec4 v0x973058b40_0;
    %sub;
    %assign/vec4 v0x973058a00_0, 0;
    %load/vec4 v0x973058780_0;
    %pad/u 4;
    %ix/vec4 4;
    %load/vec4a v0x973059220, 4;
    %subi 1, 0, 4;
    %load/vec4 v0x973058780_0;
    %pad/u 4;
    %ix/vec4 3;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x973059220, 0, 4;
    %load/vec4 v0x973058780_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_6.4, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_6.5, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_6.6, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_6.7, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_6.8, 6;
    %pushi/vec4 0, 0, 5;
    %assign/vec4 v0x973058e60_0, 0;
    %jmp T_6.10;
T_6.4 ;
    %pushi/vec4 1, 0, 5;
    %assign/vec4 v0x973058e60_0, 0;
    %jmp T_6.10;
T_6.5 ;
    %pushi/vec4 2, 0, 5;
    %assign/vec4 v0x973058e60_0, 0;
    %jmp T_6.10;
T_6.6 ;
    %pushi/vec4 4, 0, 5;
    %assign/vec4 v0x973058e60_0, 0;
    %jmp T_6.10;
T_6.7 ;
    %pushi/vec4 8, 0, 5;
    %assign/vec4 v0x973058e60_0, 0;
    %jmp T_6.10;
T_6.8 ;
    %pushi/vec4 16, 0, 5;
    %assign/vec4 v0x973058e60_0, 0;
    %jmp T_6.10;
T_6.10 ;
    %pop/vec4 1;
    %jmp T_6.3;
T_6.2 ;
    %pushi/vec4 0, 0, 5;
    %assign/vec4 v0x973058e60_0, 0;
    %load/vec4 v0x973058960_0;
    %assign/vec4 v0x973058a00_0, 0;
T_6.3 ;
T_6.1 ;
    %jmp T_6;
    .thread T_6;
    .scope S_0x105685a50;
T_7 ;
    %wait E_0x9730327c0;
    %load/vec4 v0x973059680_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_7.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_7.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_7.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_7.3, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_7.4, 6;
    %pushi/vec4 0, 0, 10;
    %store/vec4 v0x973059ea0_0, 0, 10;
    %jmp T_7.6;
T_7.0 ;
    %load/vec4 v0x973059360_0;
    %store/vec4 v0x973059ea0_0, 0, 10;
    %jmp T_7.6;
T_7.1 ;
    %load/vec4 v0x973059400_0;
    %store/vec4 v0x973059ea0_0, 0, 10;
    %jmp T_7.6;
T_7.2 ;
    %load/vec4 v0x9730594a0_0;
    %store/vec4 v0x973059ea0_0, 0, 10;
    %jmp T_7.6;
T_7.3 ;
    %load/vec4 v0x973059540_0;
    %store/vec4 v0x973059ea0_0, 0, 10;
    %jmp T_7.6;
T_7.4 ;
    %load/vec4 v0x9730595e0_0;
    %store/vec4 v0x973059ea0_0, 0, 10;
    %jmp T_7.6;
T_7.6 ;
    %pop/vec4 1;
    %pushi/vec4 0, 0, 7;
    %load/vec4 v0x973059ea0_0;
    %concat/vec4; draw_concat_vec4
    %pushi/vec4 0, 0, 10;
    %load/vec4 v0x9730599a0_0;
    %concat/vec4; draw_concat_vec4
    %mul;
    %store/vec4 v0x973059f40_0, 0, 17;
    %load/vec4 v0x973059f40_0;
    %pushi/vec4 100, 0, 17;
    %div;
    %pad/u 10;
    %store/vec4 v0x973059a40_0, 0, 10;
    %load/vec4 v0x973059680_0;
    %cmpi/u 4, 0, 3;
    %flag_get/vec4 4;
    %flag_get/vec4 5;
    %or;
    %store/vec4 v0x97305a1c0_0, 0, 1;
    %load/vec4 v0x973059680_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_7.7, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_7.8, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_7.9, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_7.10, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_7.11, 6;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x973059e00_0, 0, 1;
    %jmp T_7.13;
T_7.7 ;
    %pushi/vec4 0, 0, 4;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305a120, 4;
    %cmp/u;
    %flag_get/vec4 5;
    %store/vec4 v0x973059e00_0, 0, 1;
    %jmp T_7.13;
T_7.8 ;
    %pushi/vec4 0, 0, 4;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305a120, 4;
    %cmp/u;
    %flag_get/vec4 5;
    %store/vec4 v0x973059e00_0, 0, 1;
    %jmp T_7.13;
T_7.9 ;
    %pushi/vec4 0, 0, 4;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305a120, 4;
    %cmp/u;
    %flag_get/vec4 5;
    %store/vec4 v0x973059e00_0, 0, 1;
    %jmp T_7.13;
T_7.10 ;
    %pushi/vec4 0, 0, 4;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305a120, 4;
    %cmp/u;
    %flag_get/vec4 5;
    %store/vec4 v0x973059e00_0, 0, 1;
    %jmp T_7.13;
T_7.11 ;
    %pushi/vec4 0, 0, 4;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305a120, 4;
    %cmp/u;
    %flag_get/vec4 5;
    %store/vec4 v0x973059e00_0, 0, 1;
    %jmp T_7.13;
T_7.13 ;
    %pop/vec4 1;
    %load/vec4 v0x973059a40_0;
    %load/vec4 v0x973059860_0;
    %cmp/u;
    %flag_get/vec4 4;
    %flag_get/vec4 5;
    %or;
    %store/vec4 v0x973059ae0_0, 0, 1;
    %load/vec4 v0x973059720_0;
    %load/vec4 v0x97305a1c0_0;
    %and;
    %load/vec4 v0x973059ae0_0;
    %and;
    %load/vec4 v0x973059e00_0;
    %and;
    %store/vec4 v0x973059fe0_0, 0, 1;
    %load/vec4 v0x973059720_0;
    %load/vec4 v0x97305a1c0_0;
    %inv;
    %and;
    %store/vec4 v0x973059c20_0, 0, 1;
    %load/vec4 v0x973059720_0;
    %load/vec4 v0x97305a1c0_0;
    %and;
    %load/vec4 v0x973059ae0_0;
    %inv;
    %and;
    %store/vec4 v0x973059b80_0, 0, 1;
    %load/vec4 v0x973059720_0;
    %load/vec4 v0x97305a1c0_0;
    %and;
    %load/vec4 v0x973059ae0_0;
    %and;
    %load/vec4 v0x973059e00_0;
    %inv;
    %and;
    %store/vec4 v0x973059cc0_0, 0, 1;
    %jmp T_7;
    .thread T_7, $push;
    .scope S_0x105685a50;
T_8 ;
    %wait E_0x973032740;
    %load/vec4 v0x97305a080_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.0, 8;
    %pushi/vec4 5, 0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305a120, 0, 4;
    %pushi/vec4 5, 0, 4;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305a120, 0, 4;
    %pushi/vec4 5, 0, 4;
    %ix/load 3, 2, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305a120, 0, 4;
    %pushi/vec4 5, 0, 4;
    %ix/load 3, 3, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305a120, 0, 4;
    %pushi/vec4 5, 0, 4;
    %ix/load 3, 4, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305a120, 0, 4;
    %pushi/vec4 0, 0, 5;
    %assign/vec4 v0x973059d60_0, 0;
    %load/vec4 v0x973059860_0;
    %assign/vec4 v0x973059900_0, 0;
    %jmp T_8.1;
T_8.0 ;
    %load/vec4 v0x973059fe0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.2, 8;
    %load/vec4 v0x973059860_0;
    %load/vec4 v0x973059a40_0;
    %sub;
    %assign/vec4 v0x973059900_0, 0;
    %load/vec4 v0x973059680_0;
    %pad/u 4;
    %ix/vec4 4;
    %load/vec4a v0x97305a120, 4;
    %subi 1, 0, 4;
    %load/vec4 v0x973059680_0;
    %pad/u 4;
    %ix/vec4 3;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305a120, 0, 4;
    %load/vec4 v0x973059680_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_8.4, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_8.5, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_8.6, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_8.7, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_8.8, 6;
    %pushi/vec4 0, 0, 5;
    %assign/vec4 v0x973059d60_0, 0;
    %jmp T_8.10;
T_8.4 ;
    %pushi/vec4 1, 0, 5;
    %assign/vec4 v0x973059d60_0, 0;
    %jmp T_8.10;
T_8.5 ;
    %pushi/vec4 2, 0, 5;
    %assign/vec4 v0x973059d60_0, 0;
    %jmp T_8.10;
T_8.6 ;
    %pushi/vec4 4, 0, 5;
    %assign/vec4 v0x973059d60_0, 0;
    %jmp T_8.10;
T_8.7 ;
    %pushi/vec4 8, 0, 5;
    %assign/vec4 v0x973059d60_0, 0;
    %jmp T_8.10;
T_8.8 ;
    %pushi/vec4 16, 0, 5;
    %assign/vec4 v0x973059d60_0, 0;
    %jmp T_8.10;
T_8.10 ;
    %pop/vec4 1;
    %jmp T_8.3;
T_8.2 ;
    %pushi/vec4 0, 0, 5;
    %assign/vec4 v0x973059d60_0, 0;
    %load/vec4 v0x973059860_0;
    %assign/vec4 v0x973059900_0, 0;
T_8.3 ;
T_8.1 ;
    %jmp T_8;
    .thread T_8;
    .scope S_0x1056893e0;
T_9 ;
    %wait E_0x973032740;
    %load/vec4 v0x97305bb60_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.0, 8;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305b840_0, 0;
    %pushi/vec4 3, 0, 2;
    %assign/vec4 v0x97305b2a0_0, 0;
    %pushi/vec4 3, 0, 2;
    %assign/vec4 v0x97305b660_0, 0;
    %pushi/vec4 500, 0, 10;
    %assign/vec4 v0x97305b0c0_0, 0;
    %pushi/vec4 500, 0, 10;
    %assign/vec4 v0x97305b480_0, 0;
    %pushi/vec4 2, 0, 2;
    %assign/vec4 v0x97305b3e0_0, 0;
    %pushi/vec4 2, 0, 2;
    %assign/vec4 v0x97305b7a0_0, 0;
    %pushi/vec4 0, 0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
    %pushi/vec4 0, 0, 4;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
    %pushi/vec4 0, 0, 4;
    %ix/load 3, 2, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
    %pushi/vec4 0, 0, 4;
    %ix/load 3, 3, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
    %pushi/vec4 0, 0, 4;
    %ix/load 3, 4, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
    %pushi/vec4 0, 0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
    %pushi/vec4 0, 0, 4;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
    %pushi/vec4 0, 0, 4;
    %ix/load 3, 2, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
    %pushi/vec4 0, 0, 4;
    %ix/load 3, 3, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
    %pushi/vec4 0, 0, 4;
    %ix/load 3, 4, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x97305bd40_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x97305b020_0, 0;
    %jmp T_9.1;
T_9.0 ;
    %load/vec4 v0x97305b840_0;
    %cmpi/e 1, 0, 1;
    %jmp/0xz  T_9.2, 4;
    %load/vec4 v0x97305b160_0;
    %assign/vec4 v0x97305b0c0_0, 0;
    %load/vec4 v0x97305b520_0;
    %assign/vec4 v0x97305b480_0, 0;
    %load/vec4 v0x97305b200_0;
    %parti/s 1, 0, 2;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.4, 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %addi 1, 0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
T_9.4 ;
    %load/vec4 v0x97305b200_0;
    %parti/s 1, 1, 2;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.6, 8;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %addi 1, 0, 4;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
T_9.6 ;
    %load/vec4 v0x97305b200_0;
    %parti/s 1, 2, 3;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.8, 8;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %addi 1, 0, 4;
    %ix/load 3, 2, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
T_9.8 ;
    %load/vec4 v0x97305b200_0;
    %parti/s 1, 3, 3;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.10, 8;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %addi 1, 0, 4;
    %ix/load 3, 3, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
T_9.10 ;
    %load/vec4 v0x97305b200_0;
    %parti/s 1, 4, 4;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.12, 8;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %addi 1, 0, 4;
    %ix/load 3, 4, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
T_9.12 ;
    %load/vec4 v0x97305b5c0_0;
    %parti/s 1, 0, 2;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.14, 8;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %addi 1, 0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
T_9.14 ;
    %load/vec4 v0x97305b5c0_0;
    %parti/s 1, 1, 2;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.16, 8;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %addi 1, 0, 4;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
T_9.16 ;
    %load/vec4 v0x97305b5c0_0;
    %parti/s 1, 2, 3;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.18, 8;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %addi 1, 0, 4;
    %ix/load 3, 2, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
T_9.18 ;
    %load/vec4 v0x97305b5c0_0;
    %parti/s 1, 3, 3;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.20, 8;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %addi 1, 0, 4;
    %ix/load 3, 3, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
T_9.20 ;
    %load/vec4 v0x97305b5c0_0;
    %parti/s 1, 4, 4;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.22, 8;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %addi 1, 0, 4;
    %ix/load 3, 4, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
T_9.22 ;
    %load/vec4 v0x97305bc00_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.24, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x97305b840_0, 0;
T_9.24 ;
    %jmp T_9.3;
T_9.2 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x97305b020_0, 0;
    %load/vec4 v0x97305b980_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.26, 8;
    %load/vec4 v0x97305bca0_0;
    %cmpi/e 0, 0, 1;
    %jmp/0xz  T_9.28, 4;
    %load/vec4 v0x97305b8e0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_9.30, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_9.31, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_9.32, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_9.33, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_9.34, 6;
    %jmp T_9.36;
T_9.30 ;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %cmpi/e 0, 0, 4;
    %jmp/0xz  T_9.37, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %jmp T_9.38;
T_9.37 ;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %subi 1, 0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
    %load/vec4 v0x97305ab20_0;
    %cmpi/e 1, 0, 3;
    %jmp/0xz  T_9.39, 4;
    %load/vec4 v0x97305b660_0;
    %subi 1, 0, 2;
    %assign/vec4 v0x97305b660_0, 0;
    %jmp T_9.40;
T_9.39 ;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305b020_0, 0;
T_9.40 ;
T_9.38 ;
    %jmp T_9.36;
T_9.31 ;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %cmpi/e 0, 0, 4;
    %jmp/0xz  T_9.41, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %jmp T_9.42;
T_9.41 ;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %subi 1, 0, 4;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
    %load/vec4 v0x97305ab20_0;
    %cmpi/e 0, 0, 3;
    %jmp/0xz  T_9.43, 4;
    %load/vec4 v0x97305b660_0;
    %subi 2, 0, 2;
    %assign/vec4 v0x97305b660_0, 0;
    %jmp T_9.44;
T_9.43 ;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305b020_0, 0;
T_9.44 ;
T_9.42 ;
    %jmp T_9.36;
T_9.32 ;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %cmpi/e 0, 0, 4;
    %jmp/0xz  T_9.45, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %jmp T_9.46;
T_9.45 ;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %subi 1, 0, 4;
    %ix/load 3, 2, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
    %load/vec4 v0x97305b3e0_0;
    %cmpi/u 2, 0, 2;
    %jmp/0xz  T_9.47, 5;
    %load/vec4 v0x97305b3e0_0;
    %addi 1, 0, 2;
    %assign/vec4 v0x97305b3e0_0, 0;
T_9.47 ;
T_9.46 ;
    %jmp T_9.36;
T_9.33 ;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %cmpi/e 0, 0, 4;
    %jmp/0xz  T_9.49, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %jmp T_9.50;
T_9.49 ;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %subi 1, 0, 4;
    %ix/load 3, 3, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
    %load/vec4 v0x97305b3e0_0;
    %cmpi/u 0, 0, 2;
    %flag_or 5, 4; GT is !LE
    %flag_inv 5;
    %jmp/0xz  T_9.51, 5;
    %load/vec4 v0x97305b3e0_0;
    %subi 1, 0, 2;
    %assign/vec4 v0x97305b3e0_0, 0;
T_9.51 ;
T_9.50 ;
    %jmp T_9.36;
T_9.34 ;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %cmpi/e 0, 0, 4;
    %jmp/0xz  T_9.53, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %jmp T_9.54;
T_9.53 ;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b340, 4;
    %subi 1, 0, 4;
    %ix/load 3, 4, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b340, 0, 4;
T_9.54 ;
    %jmp T_9.36;
T_9.36 ;
    %pop/vec4 1;
    %jmp T_9.29;
T_9.28 ;
    %load/vec4 v0x97305b8e0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_9.55, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_9.56, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_9.57, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_9.58, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_9.59, 6;
    %jmp T_9.61;
T_9.55 ;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %cmpi/e 0, 0, 4;
    %jmp/0xz  T_9.62, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %jmp T_9.63;
T_9.62 ;
    %ix/load 4, 0, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %subi 1, 0, 4;
    %ix/load 3, 0, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
    %load/vec4 v0x97305ab20_0;
    %cmpi/e 1, 0, 3;
    %jmp/0xz  T_9.64, 4;
    %load/vec4 v0x97305b2a0_0;
    %subi 1, 0, 2;
    %assign/vec4 v0x97305b2a0_0, 0;
    %jmp T_9.65;
T_9.64 ;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305b020_0, 0;
T_9.65 ;
T_9.63 ;
    %jmp T_9.61;
T_9.56 ;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %cmpi/e 0, 0, 4;
    %jmp/0xz  T_9.66, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %jmp T_9.67;
T_9.66 ;
    %ix/load 4, 1, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %subi 1, 0, 4;
    %ix/load 3, 1, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
    %load/vec4 v0x97305ab20_0;
    %cmpi/e 0, 0, 3;
    %jmp/0xz  T_9.68, 4;
    %load/vec4 v0x97305b2a0_0;
    %subi 2, 0, 2;
    %assign/vec4 v0x97305b2a0_0, 0;
    %jmp T_9.69;
T_9.68 ;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305b020_0, 0;
T_9.69 ;
T_9.67 ;
    %jmp T_9.61;
T_9.57 ;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %cmpi/e 0, 0, 4;
    %jmp/0xz  T_9.70, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %jmp T_9.71;
T_9.70 ;
    %ix/load 4, 2, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %subi 1, 0, 4;
    %ix/load 3, 2, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
    %load/vec4 v0x97305b7a0_0;
    %cmpi/u 0, 0, 2;
    %flag_or 5, 4; GT is !LE
    %flag_inv 5;
    %jmp/0xz  T_9.72, 5;
    %load/vec4 v0x97305b7a0_0;
    %subi 1, 0, 2;
    %assign/vec4 v0x97305b7a0_0, 0;
T_9.72 ;
T_9.71 ;
    %jmp T_9.61;
T_9.58 ;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %cmpi/e 0, 0, 4;
    %jmp/0xz  T_9.74, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %jmp T_9.75;
T_9.74 ;
    %ix/load 4, 3, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %subi 1, 0, 4;
    %ix/load 3, 3, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
    %load/vec4 v0x97305b7a0_0;
    %cmpi/u 2, 0, 2;
    %jmp/0xz  T_9.76, 5;
    %load/vec4 v0x97305b7a0_0;
    %addi 1, 0, 2;
    %assign/vec4 v0x97305b7a0_0, 0;
T_9.76 ;
T_9.75 ;
    %jmp T_9.61;
T_9.59 ;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %cmpi/e 0, 0, 4;
    %jmp/0xz  T_9.78, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x97305ae40_0, 0;
    %jmp T_9.79;
T_9.78 ;
    %ix/load 4, 4, 0;
    %flag_set/imm 4, 0;
    %load/vec4a v0x97305b700, 4;
    %subi 1, 0, 4;
    %ix/load 3, 4, 0;
    %flag_set/imm 4, 0;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x97305b700, 0, 4;
T_9.79 ;
    %jmp T_9.61;
T_9.61 ;
    %pop/vec4 1;
T_9.29 ;
T_9.26 ;
T_9.3 ;
T_9.1 ;
    %jmp T_9;
    .thread T_9;
    .scope S_0x10567fc30;
T_10 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x97308c3c0_0, 0, 1;
    %end;
    .thread T_10;
    .scope S_0x10567fc30;
T_11 ;
    %delay 5000, 0;
    %load/vec4 v0x97308c3c0_0;
    %inv;
    %store/vec4 v0x97308c3c0_0, 0, 1;
    %jmp T_11;
    .thread T_11;
    .scope S_0x10567fc30;
T_12 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x97308d0e0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x97308d220_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x97308cf00_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x97308ce60_0, 0, 3;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x97308c280_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x97308c140_0, 0, 3;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x97308c320_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x97308c1e0_0, 0, 3;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x97308d180_0, 0, 1;
    %pushi/vec4 100, 0, 10;
    %store/vec4 v0x97305bde0_0, 0, 10;
    %pushi/vec4 100, 0, 10;
    %store/vec4 v0x97305be80_0, 0, 10;
    %pushi/vec4 50, 0, 10;
    %store/vec4 v0x97305bf20_0, 0, 10;
    %pushi/vec4 50, 0, 10;
    %store/vec4 v0x97308c000_0, 0, 10;
    %pushi/vec4 20, 0, 10;
    %store/vec4 v0x97308c0a0_0, 0, 10;
    %vpi_call 2 169 "$display", "=== GAME-07: no-inventory error before purchase ===" {0 0 0};
    %fork TD_tb_game_core.do_reset, S_0x10567d610;
    %join;
    %fork TD_tb_game_core.do_start, S_0x10567d790;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308c6e0_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz  T_12.0, 6;
    %vpi_call 2 176 "$display", "FAIL [GAME-07a] err_no_inventory=%b (expected 1)", v0x97308c6e0_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.1;
T_12.0 ;
    %vpi_call 2 179 "$display", "PASS [GAME-07a] err_no_inventory=1 on kick with empty inventory" {0 0 0};
T_12.1 ;
    %load/vec4 v0x97308cc80_0;
    %cmpi/ne 3, 0, 2;
    %jmp/0xz  T_12.2, 6;
    %vpi_call 2 182 "$display", "FAIL [GAME-07b] p2_health=%0d (expected 3, unchanged)", v0x97308cc80_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.3;
T_12.2 ;
    %vpi_call 2 185 "$display", "PASS [GAME-07b] p2_health=3 unchanged after no-inventory kick" {0 0 0};
T_12.3 ;
    %load/vec4 v0x97308cb40_0;
    %cmpi/ne 2, 0, 2;
    %jmp/1 T_12.6, 6;
    %flag_mov 8, 6;
    %load/vec4 v0x97308cd20_0;
    %cmpi/ne 2, 0, 2;
    %flag_or 6, 8;
T_12.6;
    %jmp/0xz  T_12.4, 6;
    %vpi_call 2 188 "$display", "FAIL [GAME-07c] positions p1=%0d p2=%0d (expected 2,2)", v0x97308cb40_0, v0x97308cd20_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.5;
T_12.4 ;
    %vpi_call 2 191 "$display", "PASS [GAME-07c] positions unchanged: p1=2 p2=2" {0 0 0};
T_12.5 ;
    %vpi_call 2 198 "$display", "=== Purchasing moves ===" {0 0 0};
    %fork TD_tb_game_core.do_reset, S_0x10567d610;
    %join;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x973058140_0, 0, 3;
    %fork TD_tb_game_core.buy_p1, S_0x10567fdb0;
    %join;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x973058140_0, 0, 3;
    %fork TD_tb_game_core.buy_p1, S_0x10567fdb0;
    %join;
    %pushi/vec4 1, 0, 3;
    %store/vec4 v0x973058140_0, 0, 3;
    %fork TD_tb_game_core.buy_p1, S_0x10567fdb0;
    %join;
    %pushi/vec4 1, 0, 3;
    %store/vec4 v0x973058140_0, 0, 3;
    %fork TD_tb_game_core.buy_p1, S_0x10567fdb0;
    %join;
    %pushi/vec4 3, 0, 3;
    %store/vec4 v0x973058140_0, 0, 3;
    %fork TD_tb_game_core.buy_p1, S_0x10567fdb0;
    %join;
    %pushi/vec4 3, 0, 3;
    %store/vec4 v0x973058140_0, 0, 3;
    %fork TD_tb_game_core.buy_p1, S_0x10567fdb0;
    %join;
    %pushi/vec4 2, 0, 3;
    %store/vec4 v0x9730583c0_0, 0, 3;
    %fork TD_tb_game_core.buy_p2, S_0x105678740;
    %join;
    %pushi/vec4 2, 0, 3;
    %store/vec4 v0x9730583c0_0, 0, 3;
    %fork TD_tb_game_core.buy_p2, S_0x105678740;
    %join;
    %pushi/vec4 4, 0, 3;
    %store/vec4 v0x9730583c0_0, 0, 3;
    %fork TD_tb_game_core.buy_p2, S_0x105678740;
    %join;
    %vpi_call 2 212 "$display", "Purchases done: p1_credit=%0d p2_credit=%0d. Entering PLAY.", v0x97308ca00_0, v0x97308cbe0_0 {0 0 0};
    %fork TD_tb_game_core.do_start, S_0x10567d790;
    %join;
    %vpi_call 2 220 "$display", "=== GAME-05 + GAME-01: position movement, player isolation ===" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 3, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308cb40_0;
    %cmpi/ne 1, 0, 2;
    %jmp/0xz  T_12.7, 6;
    %vpi_call 2 225 "$display", "FAIL [GAME-05a] p1_pos=%0d (expected 1)", v0x97308cb40_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.8;
T_12.7 ;
    %vpi_call 2 228 "$display", "PASS [GAME-05a] p1_pos=1 after first MoveRight" {0 0 0};
T_12.8 ;
    %load/vec4 v0x97308cd20_0;
    %cmpi/ne 2, 0, 2;
    %jmp/0xz  T_12.9, 6;
    %vpi_call 2 231 "$display", "FAIL [GAME-01a] p2_pos=%0d (expected 2, P2 is inactive)", v0x97308cd20_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.10;
T_12.9 ;
    %vpi_call 2 234 "$display", "PASS [GAME-01a] p2_pos=2 unchanged (inactive player unaffected)" {0 0 0};
T_12.10 ;
    %load/vec4 v0x97308cc80_0;
    %cmpi/ne 3, 0, 2;
    %jmp/0xz  T_12.11, 6;
    %vpi_call 2 237 "$display", "FAIL [GAME-01b] p2_health=%0d (expected 3, P2 is inactive)", v0x97308cc80_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.12;
T_12.11 ;
    %vpi_call 2 240 "$display", "PASS [GAME-01b] p2_health=3 unchanged during P1 move" {0 0 0};
T_12.12 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 3, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308cb40_0;
    %cmpi/ne 0, 0, 2;
    %jmp/0xz  T_12.13, 6;
    %vpi_call 2 245 "$display", "FAIL [GAME-05b] p1_pos=%0d (expected 0)", v0x97308cb40_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.14;
T_12.13 ;
    %vpi_call 2 248 "$display", "PASS [GAME-05b] p1_pos=0 after second MoveRight" {0 0 0};
T_12.14 ;
    %vpi_call 2 254 "$display", "=== GAME-02: Kick at wrong distance ===" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308c8c0_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz  T_12.15, 6;
    %vpi_call 2 259 "$display", "FAIL [GAME-02a] err_wrong_distance=%b (expected 1, kick at dist=2)", v0x97308c8c0_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.16;
T_12.15 ;
    %vpi_call 2 262 "$display", "PASS [GAME-02a] err_wrong_distance=1 on kick at distance=2" {0 0 0};
T_12.16 ;
    %load/vec4 v0x97308cc80_0;
    %cmpi/ne 3, 0, 2;
    %jmp/0xz  T_12.17, 6;
    %vpi_call 2 265 "$display", "FAIL [GAME-02b] p2_health=%0d (expected 3, no damage)", v0x97308cc80_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.18;
T_12.17 ;
    %vpi_call 2 268 "$display", "PASS [GAME-02b] p2_health=3 unchanged after wrong-distance kick" {0 0 0};
T_12.18 ;
    %vpi_call 2 274 "$display", "=== GAME-03: Kick at correct distance ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 2, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308cd20_0;
    %cmpi/ne 1, 0, 2;
    %jmp/0xz  T_12.19, 6;
    %vpi_call 2 279 "$display", "FAIL [GAME-03a] p2_pos=%0d (expected 1 after P2 MoveLeft)", v0x97308cd20_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.20;
T_12.19 ;
    %vpi_call 2 282 "$display", "PASS [GAME-03a] p2_pos=1 after P2 MoveLeft" {0 0 0};
T_12.20 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308cc80_0;
    %cmpi/ne 2, 0, 2;
    %jmp/0xz  T_12.21, 6;
    %vpi_call 2 287 "$display", "FAIL [GAME-03b] p2_health=%0d (expected 2, kick at dist=1 deals 1 damage)", v0x97308cc80_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.22;
T_12.21 ;
    %vpi_call 2 290 "$display", "PASS [GAME-03b] p2_health=2 after kick at distance=1" {0 0 0};
T_12.22 ;
    %load/vec4 v0x97308c8c0_0;
    %cmpi/ne 0, 0, 1;
    %jmp/0xz  T_12.23, 6;
    %vpi_call 2 293 "$display", "FAIL [GAME-03c] err_wrong_distance=%b (expected 0)", v0x97308c8c0_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.24;
T_12.23 ;
    %vpi_call 2 296 "$display", "PASS [GAME-03c] err_wrong_distance=0 on successful kick" {0 0 0};
T_12.24 ;
    %vpi_call 2 302 "$display", "=== GAME-02: Punch at wrong distance ===" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 1, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308c8c0_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz  T_12.25, 6;
    %vpi_call 2 307 "$display", "FAIL [GAME-02c] err_wrong_distance=%b (expected 1, punch at dist=1)", v0x97308c8c0_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.26;
T_12.25 ;
    %vpi_call 2 310 "$display", "PASS [GAME-02c] err_wrong_distance=1 on punch at distance=1" {0 0 0};
T_12.26 ;
    %load/vec4 v0x97308cc80_0;
    %cmpi/ne 2, 0, 2;
    %jmp/0xz  T_12.27, 6;
    %vpi_call 2 313 "$display", "FAIL [GAME-02d] p2_health=%0d (expected 2, no damage)", v0x97308cc80_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.28;
T_12.27 ;
    %vpi_call 2 316 "$display", "PASS [GAME-02d] p2_health=2 unchanged after wrong-distance punch" {0 0 0};
T_12.28 ;
    %vpi_call 2 322 "$display", "=== GAME-04: Punch at distance=0 ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 2, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308cd20_0;
    %cmpi/ne 0, 0, 2;
    %jmp/0xz  T_12.29, 6;
    %vpi_call 2 327 "$display", "FAIL [GAME-04a] p2_pos=%0d (expected 0 after P2 MoveLeft)", v0x97308cd20_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.30;
T_12.29 ;
    %vpi_call 2 330 "$display", "PASS [GAME-04a] p2_pos=0 after P2 MoveLeft" {0 0 0};
T_12.30 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 1, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308cc80_0;
    %cmpi/ne 0, 0, 2;
    %jmp/0xz  T_12.31, 6;
    %vpi_call 2 335 "$display", "FAIL [GAME-04b] p2_health=%0d (expected 0, punch at dist=0 deals 2 damage)", v0x97308cc80_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.32;
T_12.31 ;
    %vpi_call 2 338 "$display", "PASS [GAME-04b] p2_health=0 after punch at distance=0 (2 damage)" {0 0 0};
T_12.32 ;
    %load/vec4 v0x97308c8c0_0;
    %cmpi/ne 0, 0, 1;
    %jmp/0xz  T_12.33, 6;
    %vpi_call 2 341 "$display", "FAIL [GAME-04c] err_wrong_distance=%b (expected 0)", v0x97308c8c0_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.34;
T_12.33 ;
    %vpi_call 2 344 "$display", "PASS [GAME-04c] err_wrong_distance=0 on successful punch" {0 0 0};
T_12.34 ;
    %vpi_call 2 349 "$display", "=== GAME-06: Wait action ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 4, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308c6e0_0;
    %cmpi/ne 0, 0, 1;
    %jmp/0xz  T_12.35, 6;
    %vpi_call 2 354 "$display", "FAIL [GAME-06a] err_no_inventory=%b (expected 0, P2 had 1 Wait)", v0x97308c6e0_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.36;
T_12.35 ;
    %vpi_call 2 357 "$display", "PASS [GAME-06a] err_no_inventory=0 on P2 Wait" {0 0 0};
T_12.36 ;
    %load/vec4 v0x97308caa0_0;
    %cmpi/ne 3, 0, 2;
    %jmp/1 T_12.39, 6;
    %flag_mov 8, 6;
    %load/vec4 v0x97308cc80_0;
    %cmpi/ne 0, 0, 2;
    %flag_or 6, 8;
T_12.39;
    %jmp/0xz  T_12.37, 6;
    %vpi_call 2 360 "$display", "FAIL [GAME-06b] health changed on Wait: p1=%0d p2=%0d (expected 3,0)", v0x97308caa0_0, v0x97308cc80_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.38;
T_12.37 ;
    %vpi_call 2 363 "$display", "PASS [GAME-06b] health unchanged after P2 Wait (p1=3, p2=0)" {0 0 0};
T_12.38 ;
    %load/vec4 v0x97308cb40_0;
    %cmpi/ne 0, 0, 2;
    %jmp/1 T_12.42, 6;
    %flag_mov 8, 6;
    %load/vec4 v0x97308cd20_0;
    %cmpi/ne 0, 0, 2;
    %flag_or 6, 8;
T_12.42;
    %jmp/0xz  T_12.40, 6;
    %vpi_call 2 366 "$display", "FAIL [GAME-06c] positions changed on Wait: p1=%0d p2=%0d (expected 0,0)", v0x97308cb40_0, v0x97308cd20_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.41;
T_12.40 ;
    %vpi_call 2 369 "$display", "PASS [GAME-06c] positions unchanged after P2 Wait" {0 0 0};
T_12.41 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 4, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308c6e0_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz  T_12.43, 6;
    %vpi_call 2 374 "$display", "FAIL [GAME-06d] err_no_inventory=%b (expected 1, counter exhausted)", v0x97308c6e0_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.44;
T_12.43 ;
    %vpi_call 2 377 "$display", "PASS [GAME-06d] err_no_inventory=1 when P2 Wait counter=0" {0 0 0};
T_12.44 ;
    %vpi_call 2 384 "$display", "=== GAME-08: Inventory decrement and exhaustion ===" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308c6e0_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz  T_12.45, 6;
    %vpi_call 2 389 "$display", "FAIL [GAME-08a] err_no_inventory=%b (expected 1, kick counter=0)", v0x97308c6e0_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.46;
T_12.45 ;
    %vpi_call 2 392 "$display", "PASS [GAME-08a] err_no_inventory=1 when P1 kick counter=0" {0 0 0};
T_12.46 ;
    %load/vec4 v0x97308cc80_0;
    %cmpi/ne 0, 0, 2;
    %jmp/0xz  T_12.47, 6;
    %vpi_call 2 395 "$display", "FAIL [GAME-08b] p2_health=%0d (expected 0, unchanged)", v0x97308cc80_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.48;
T_12.47 ;
    %vpi_call 2 398 "$display", "PASS [GAME-08b] p2_health=0 unchanged on no-inventory kick" {0 0 0};
T_12.48 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x973058320_0, 0, 1;
    %pushi/vec4 1, 0, 3;
    %store/vec4 v0x973058280_0, 0, 3;
    %fork TD_tb_game_core.do_play, S_0x1056788c0;
    %join;
    %load/vec4 v0x97308c6e0_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz  T_12.49, 6;
    %vpi_call 2 403 "$display", "FAIL [GAME-08c] err_no_inventory=%b (expected 1, punch counter=0)", v0x97308c6e0_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.50;
T_12.49 ;
    %vpi_call 2 406 "$display", "PASS [GAME-08c] err_no_inventory=1 when P1 punch counter=0" {0 0 0};
T_12.50 ;
    %load/vec4 v0x97308cc80_0;
    %cmpi/ne 0, 0, 2;
    %jmp/0xz  T_12.51, 6;
    %vpi_call 2 409 "$display", "FAIL [GAME-08d] p2_health=%0d (expected 0, unchanged)", v0x97308cc80_0 {0 0 0};
    %load/vec4 v0x97308c960_0;
    %addi 1, 0, 32;
    %store/vec4 v0x97308c960_0, 0, 32;
    %jmp T_12.52;
T_12.51 ;
    %vpi_call 2 412 "$display", "PASS [GAME-08d] p2_health=0 unchanged on no-inventory punch" {0 0 0};
T_12.52 ;
    %load/vec4 v0x97308c960_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_12.53, 4;
    %vpi_call 2 418 "$display", "--- tb_game_core complete ---" {0 0 0};
    %jmp T_12.54;
T_12.53 ;
    %vpi_call 2 420 "$display", "--- tb_game_core FAILED: %0d error(s) ---", v0x97308c960_0 {0 0 0};
T_12.54 ;
    %vpi_call 2 422 "$finish" {0 0 0};
    %end;
    .thread T_12;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "tb_game_core.v";
    "game_top.v";
    "shop.v";
